import pickle

from src.Constant import selected_features_CHI2_pick, selected_features_ETC_pick, selected_features_LR_pick, \
    final_selected_feature_pick


def select_final_feature():
    final_selected_features = set()

    with open(selected_features_ETC_pick, 'rb') as handle:
        selected_ETC = pickle.load(handle)

    with open(selected_features_CHI2_pick, 'rb') as handle:
        selected_Chi2 = pickle.load(handle)

    with open(selected_features_LR_pick, 'rb') as handle:
        selected_LR = pickle.load(handle)

    for feature in selected_ETC:
        print("etc:", feature)
        final_selected_features.add(feature)

    for feature in selected_Chi2:
        print("Chi2:", feature)
        final_selected_features.add(feature)

    for feature in selected_LR:
        print("LR:", feature)
        final_selected_features.add(feature)

    final_selected_features_list = list(final_selected_features)

    print(len(final_selected_features_list))

    with open(final_selected_feature_pick, 'wb') as handle:
        pickle.dump(final_selected_features_list, handle)


if __name__ == '__main__':
    select_final_feature()
