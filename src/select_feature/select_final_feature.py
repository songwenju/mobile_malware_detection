import pickle


def select_final_feature():
    final_selected_features = set()

    with open(r'../../saved_items/selected_features_ETC.pickle', 'rb') as handle:
        selected_ETC = pickle.load(handle)

    with open(r'../../saved_items/selected_features_CHI2.pickle', 'rb') as handle:
        selected_Chi2 = pickle.load(handle)

    with open(r'../../saved_items/selected_features_LR.pickle', 'rb') as handle:
        selected_LR = pickle.load(handle)

    for feature in selected_ETC:
        final_selected_features.add(feature)

    for feature in selected_Chi2:
        final_selected_features.add(feature)

    for feature in selected_LR:
        final_selected_features.add(feature)

    final_selected_features_list = list(final_selected_features)

    print(len(final_selected_features_list))

    with open(r'../../saved_items/final_selected_feature.pickle', 'wb') as handle:
        pickle.dump(final_selected_features_list, handle)


if __name__ == '__main__':
    select_final_feature()
